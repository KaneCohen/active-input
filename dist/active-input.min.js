var ActiveInput=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i,r,u;!function(n,a){r=[],i=a,u="function"==typeof i?i.apply(e,r):i,!(void 0!==u&&(t.exports=u))}(void 0,function(){"use strict";function t(t){this.o=r.extend(n,t),this.v=r.extend({},i),this.v.input=[],this.v.events={},this.init()}if(window.jQuery){var e=window.jQuery;e.fn.activeInput=function(n){var i=[],u=arguments,a=null,o=e.extend(!0,{},n);return this.each(function(){o.element=e(this)[0],a=r.data(o.element,"activeInput"),a?(a.trigger.apply(a,u),i.push(a.o.element)):"string"!=e.type(n)&&(a=new t(o))}),1==i.length?i[0]:i.length>1?i:this}}var n={element:null,minChars:1,maxChars:null,stripHtml:!1,button:null,counter:null,count:"up",form:!1,input:null},i={initData:null,button:null},r={checkable:/(checkbox|radio)/,key:/[a-z0-9_-]+|(?=\[\])/gi,events:{},trim:function(t){return t.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"")},extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},data:function u(t,e,n){var i="data",u=t[i]||{};if("undefined"==typeof n){if(t[i]&&t[i][e])return t[i][e];var r=t.getAttribute(i+"-"+e);return"undefined"!=typeof r?r:null}return u[e]=n,t[i]=u,t},on:function(t,e,n){var i,r,u=this.data(t,"events")||{};if("string"==typeof e){for(e=e.match(/[\S]+/g),r=0;r<e.length;r++)i=e[r],u[i]?u[i].push(n):u[i]=[n],t.addEventListener(i.split(".")[0],n);this.data(t,"events",u)}},off:function(t,e,n){var i,r,u,a,o=this.data(t,"events")||{};if("string"==typeof e)for(e=e.match(/[\S]+/g),r=0;r<e.length;r++)if(i=e[r],n)t.removeEventListener(i.split(".")[0],n);else if(o[i])for(u=0;u<o[i].length;u++)t.removeEventListener(i.split(".")[0],o[i][u]),o[u]=o[i].slice(u+1);else if("."===i[0])for(u in o){if(u.indexOf(i)>-1)for(a=0;a<o[u].length;a++)t.removeEventListener(u.split(".")[0],o[u][a]),o[u]=o[u].slice(a+1);0===o[u].length&&delete o[u]}},parents:function(t,e){e||(e=[]);var n=t.parentNode;return n&&(e.push(n),this.parents(n,e)),e},isDisabled:function(t){var e=!1;return t.disabled?!0:(this.parents(t).forEach(function(t){"FIELDSET"==t.tagName&&t.disabled&&(e=!0)}),e)},findInputElements:function(t){var e=this,n=t.querySelectorAll("input, select, textarea, keygen");return n=Array.prototype.filter.call(n,function(t){if(t.name&&!e.isDisabled(t)){var n=e.checkable.test(t.type);if(n&&t.checked||!n)return!0}return!1})},serializeObject:function(t){var e=this,n={},i=this.findInputElements(t);return i.forEach(function(t,i){var r=t.name.match(i);e.buildObject(t,n,r)}),n},serialize:function(t){var e,n={},i="",r=this.findInputElements(t);r.forEach(function(t){var e=t.name;n[e]=t.value});for(e in n)i+=encodeURIComponent(e)+"="+encodeURIComponent(n[e]);return i},buildObject:function(t,e,n){var i,r,u,a=n.length;for(r=0;a-1>r;r++)u=n[r],u.length>0?(e[u]||(0===n[r+1].length?e[u]=[]:e[u]={}),e=e[u]):(0===n[r+1].length?(i=[],e.push(i)):(i={},e.push(i)),e=i);return u=n[a-1],u.length>0?e[u]=t.value:e.push(t.value),e}};return t.prototype={init:function(){var t,e,n=this,i=this.o;if("string"==typeof i.element&&(i.element=document.querySelector(i.element)),i.form||null!==i.input||(i.input=i.element.querySelector("input, textarea, select")),i.input instanceof Array?i.input.forEach(function(r){0!==r.input.length&&(t=r.input,e=r.counter||i.counter,"string"==typeof t&&(t=i.element.querySelector(t)),"string"==typeof e&&(e=i.element.querySelector(e)),n.v.input.push({input:t,counter:e,count:r.count||i.count,minChars:r.minChars||i.minChars,maxChars:r.maxChars||i.maxChars,stripHtml:r.stripHtml||i.stripHtml,form:!1}))}):i.input&&(t=i.input,e=i.counter,"string"==typeof t&&(t=i.element.querySelectorAll(t)),"string"==typeof e&&(e=i.element.querySelector(e)),"undefined"==typeof t.length&&(t=[t]),Array.prototype.forEach.call(t,function(t){n.v.input.push({input:t,counter:e,count:i.count,minChars:i.minChars,maxChars:i.maxChars,stripHtml:i.stripHtml,form:!1})})),i.form){var u=i.form;"string"==typeof i.form&&(u=document.querySelector(i.form),i.element||(i.element=u)),this.v.input.push({input:u,form:!0}),this.v.initData=r.serialize(u)}if(0===this.v.input.length)throw new Error("ActiveInput.Error: activeInput must be bind to at least one input element.");if(this.v.button=i.button,null===this.o.button){var a=i.element.querySelectorAll("button");if(0===a.length&&(a=i.element.querySelectorAll('input[type="submit"]')),0===a.length)throw new Error("ActiveInput.Error: activeInput container must have button or submit element available.");this.v.button=a[a.length-1]}return this.o.form&&(this.v.button.disabled=!0),this.validate()?this.v.button.disabled=!1:this.v.button.disabled=!0,this.initEvents(),this.o.element.activeInput=this,r.data(this.o.element,"activeInput"),this},initEvents:function(){var t=this;this.refresh(),this.v.input.forEach(function(e){if(e.form)r.on(e.input,"input.activeInput change.activeInput reset.activeInput",function(n){setTimeout(function(){t.validate(e.input,n)?t.v.button.disabled=!1:t.v.button.disabled=!0,t.trigger("stop",t,n)},1)}),r.on(e.input,"submit.activeInput",function(){t.v.button.disabled=!0,t.v.initData=r.serialize(e.input)});else{var n=e.input.value;r.on(e.input,"input.activeInput change.activeInput",function(i){var u=r.trim(e.input.value).replace(/[\s]/gi,"");if(e.stripHtml&&(u=u.replace(/(<([^>]+)<)/gi,"")),u!==n){if(e.counter){var a;"up"===e.count&&null!==e.minChars&&(a=t.length(u)-e.minChars,e.counter.innerHTML=a,0>a?e.counter.classList.add("negative"):e.counter.classList.remove("negative")),"down"===e.count&&null!==e.maxChars&&(a=e.maxChars-t.length(u),e.counter.innerHTML=a,0>a?e.counter.classList.add("negative"):e.counter.classList.remove("negative"))}t.validate(e.input,i)?t.v.button.disabled=!1:t.v.button.disabled=!0,n=u}}),r.on(e.input,"focusout.activeInput",function(e){t.trigger("stop",t,e)})}}),r.on(this.v.button,"click.activeInput",function(e){t.trigger("click",t,e)})},validate:function(t,e){var n=this;if(n.trigger("update",this,t,e)){var i=!0;return this.v.input.forEach(function(t){if(t.form){if(r.serialize(t.input)==n.v.initData)return i=!1,!1}else{var e=n.length(t.input.value);if(null!==t.minChars&&e<t.minChars)return i=!1,!1;if(null!==t.maxChars&&e>t.maxChars)return i=!1,!1}}),i}return!1},reset:function(){var t=this;this.v.input.forEach(function(e){e.form&&(t.v.initData=r.serialize(e.input),t.v.button.disabled=!0)})},refresh:function(){var t=this;this.v.input.forEach(function(e){if(e.counter){var n,i=e.input.value;"up"==e.count&&null!==e.minChars&&(n=t.length(i)-e.minChars,e.counter.innerHTML=n,0>n?e.counter.classList.add("negative"):e.counter.classList.remove("negative")),"down"==e.count&&null!==e.maxChars&&(n=e.maxChars-t.length(i),e.counter.innerHTML=n,0>n?e.counter.classList.add("negative"):e.counter.classList.remove("negative"))}})},destroy:function(){Array.isArray(this.v.input)?this.v.input.forEach(function(t){r.off(t.input,".activeInput")}):r.off(this.v.input,".activeInput"),r.off(this.o.element,".activeInput"),delete this.o.element.activeInput},length:function(t){return r.trim(t).replace(/[\s]/gi,"").length},on:function(t,e){this.v.events[t]=e},off:function(t){delete this.v.events[t]},trigger:function(t){var e=Array.prototype.slice.call(arguments,1);return this.v.events[t]&&this.v.events[t].apply(this,e)===!1?!1:!this[t]||this[t].apply(this,e)!==!1}},t})}]);